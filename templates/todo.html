<div class="container" id="todo-container">
  {% for todo in todos %}
    <div class="card mb-4">
      <div class="card-body d-flex justify-content-between align-items-center">
        <p class="card-text mb-0">{{todo.task}}</p>
        <div>
          <button data-id="{{ todo.id }}" class="btn btn-danger">Delete</button>
        </div>
        {% comment %} <a href="{% url 'edit' todo.id %}" class="btn btn-primary">편집</a>
        <a href="{% url 'delete' todo.id %}" class="btn btn-danger">삭제</a> {% endcomment %}
      </div>
    </div>
  {% endfor %}
</div>  
<script>
  $(document).ready(function(){
      $(".btn-danger").click(function(e){
          e.preventDefault();
          var todoId = $(this).attr("data-id");
          $.ajax({
              url: '/todo/delete/' + todoId + '/',
              type: 'DELETE',
              success: function(result) {
                  location.reload();
              }
          });
      });
  });
</script>
