{% extends 'base.html' %}

{% block title %}
ToDo
{% endblock %}

{% block body %}
<div class="container h-100 m-5">
    <div class="row justify-content-center align-items-center">
        <div class="col-9">
            <div class="card">
                <div class="card-body">
                    <form method="post" id="task-form">
                        {% csrf_token %}
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Enter Task" name="task" id="task" required>
														<button type="submit" class="btn btn-primary">Save</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% include "todo.html" %}


	<script src="https://code.jquery.com/jquery-3.5.1.js"
		integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
			crossorigin="anonymous"></script> 

	<script type="text/javascript"> 
	$(document).on('submit','#task-form',function(e){ 
		e.preventDefault(); 
		$.ajax({ 
			type:'POST', 
			url:'{% url "todo" %}', 
			data: 
			{ 
				task:$("#task").val(), 
				csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val() 
			}, 
			success:function(){ 
				alert('Saved'); 
					} 
			}) 
		}); 
	</script> 

  {% endblock %}