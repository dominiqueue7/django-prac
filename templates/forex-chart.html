{% extends 'base.html' %}

{% block title %}
ToDo
{% endblock %}

{% block body %}

<!-- Input for height -->
<div class="input-group mb-5" style="width:300px">
  <input type="number" id="height-input" class="form-control" placeholder="Enter height in pixels">
  <button class="btn btn-primary" onclick="changeHeight()">Change height</button>
</div>

<!-- TradingView Widget BEGIN -->
<div class="container">
  <div class="tradingview-widget-container" id="widget-container">
    <div class="tradingview-widget-container__widget" ></div>
    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank"><span class="blue-text">Track all markets on TradingView</span></a></div>
    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
    {
    "autosize": false,
    "width": "100%",
    "height": "600",
    "symbol": "OANDA:GBPJPY",
    "interval": "240",
    "timezone": "Asia/Tokyo",
    "theme": "light",
    "style": "1",
    "locale": "en",
    "enable_publishing": false,
    "allow_symbol_change": true,
    "calendar": false,
    "support_host": "https://www.tradingview.com"
  }
    </script>
  </div>
</div>
<!-- TradingView Widget END -->

<script>
  window.onload = function() {
    var widgetContainer = document.getElementById('widget-container');
    var heightInput = document.getElementById('height-input');
    var height = window.getComputedStyle(widgetContainer).getPropertyValue('height');
    heightInput.value = parseInt(height);
  }

  function changeHeight() {
    var height = document.getElementById('height-input').value;
    var widgetContainer = document.getElementById('widget-container');
    widgetContainer.style.height = height + 'px';
  }
</script>
  
{% endblock %}